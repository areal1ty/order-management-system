# Order Management Service
## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
Order Management Service ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ –±–∞–∑–µ Spring Boot, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ REST API –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∑–∞–∫–∞–∑–∞–º–∏, –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏, –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ –∑–∞–∫–∞–∑–∞. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ —è–∑—ã–∫–µ Kotlin —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üì¶ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
### Order:
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞.
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–µ –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞.
–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞.
### Delivery:
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç–∞–≤–æ–∫.
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏.
### Item:
–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∑–∞–∫–∞–∑—É.
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫–∞–∑–∞.
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–∏.
–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞.
### Payment:
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞.
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–ª–∞—Ç–µ–∂–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞.
–£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞.
## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
Kotlin –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞.
Spring Boot ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∞—è —É–¥–æ–±–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
Spring Data JPA –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
Flyway –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ö–µ–º—ã.
JUnit 5 –∏ MockMvc –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –º–æ–¥—É–ª—å–Ω—ã—Ö –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.
REST API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.
DTO (Data Transfer Object) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DTO –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º, –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —É—Ç–µ—á–µ–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
Mapper-—ã –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É DTO –∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Kotlin Logging –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.
## ‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª–∏ (dev/prod)
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ—Ñ–∏–ª—è–º–∏ dev –∏ prod:

application-dev.yml:

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö H2 (in-memory).
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã.
application-prod.yml:

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥—ã.
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL.
–ú–∏–≥—Ä–∞—Ü–∏–∏ Flyway –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
### –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å:

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—É—Å–∫–∞:
`bash`
java -jar order-management-service.jar --spring.profiles.active=dev
–∏–ª–∏ —É–∫–∞–∑–∞–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ IDE spring.profiles.active=prod,
–∏–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ mvn spring-boot:run -Dspring.profiles.active=dev

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
### OrderController

GET /public/order ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤.

GET /public/order/{id} ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

POST /public/order ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑.

PUT /public/order/{id} ‚Äî –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∑–∞–∫–∞–∑.

DELETE /public/order/{id} ‚Äî –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
### DeliveryController

GET /public/delivery ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç–∞–≤–æ–∫.

GET /public/delivery/{id} ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç–∞–≤–∫–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

POST /public/delivery ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –¥–æ—Å—Ç–∞–≤–∫—É.

PUT /public/delivery/{id} ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç–∞–≤–∫–µ.
### ItemController

GET /public/item ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π –∑–∞–∫–∞–∑–∞.

GET /public/item/{id} ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

POST /public/item ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –∑–∞–∫–∞–∑–∞, –ø—Ä–∏–≤—è–∑–∞–≤ –µ—ë –∫ –∑–∞–∫–∞–∑—É.

PUT /public/item/{id} ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞.

DELETE /public/item/{id} ‚Äî –£–¥–∞–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∑–∞–∫–∞–∑–∞.
### PaymentController

POST /public/payment ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂.

GET /public/payment/{id} ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

PUT /public/payment/{id} ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞—Ç–µ–∂–µ.

PUT /public/payment/{id}/status ‚Äî –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞.

DELETE public/payment/{id} ‚Äî –£–¥–∞–ª–∏—Ç—å –ø–ª–∞—Ç–µ–∂.
## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
`bash`
‚îú‚îÄ‚îÄ src

‚îÇ   ‚îú‚îÄ‚îÄ main

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kotlin

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com.ecom.tech.ordermanagementservice

‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ controller       # REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–ª–æ–∏

‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ repository       # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Spring Data JPA

‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ model            # DTO, –º–∞–ø–ø–µ—Ä—ã –∏ —Å—É—â–Ω–æ—Å—Ç–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resources

‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ application-dev.yml  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è dev-—Å—Ä–µ–¥—ã

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ application-prod.yml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è prod-—Å—Ä–µ–¥—ã

‚îú‚îÄ‚îÄ test

‚îÇ   ‚îú‚îÄ‚îÄ kotlin

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com.ecom.tech.ordermanagementservice

‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ service              # –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤

‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ controller           # –¢–µ—Å—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

‚îî‚îÄ‚îÄ README.md                         # –§–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
